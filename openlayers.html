<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<title>NLS Map + OpenLayers</title>
		<style type="text/css">
		/*<![CDATA[*/
		html, body { font-family: 'Lucida Grande',Geneva,Arial,Verdana,sans-serif; }
		body { margin: 10px; background: #fff; }
		.olControlAttribution {
			font-family: Arial, sans-serif; font-size:11px !important; white-space: nowrap; text-align: right; padding:2px;
			bottom:0px !important;
		}
		#map { background-color: #cedfe4; border: 1px solid gray;}
		/*]]>*/
		</style>
		<script type="text/javascript" src="http://nls.tileserver.com/api.js"></script>
		<script src="http://openlayers.org/api/OpenLayers.js" type="text/javascript"></script>
		<script type="text/javascript">
		//<![CDATA[

		OpenLayers.IMAGE_RELOAD_ATTEMPTS = 0;

		// Do not display any warning for missing tiles
		OpenLayers.Util.onImageLoadError = function(){this.src='http://www.maptiler.org/img/none.png';} 
		OpenLayers.Tile.Image.useBlankTile=false; 

		// Define the XYZ-based layer for NLS Map
		OpenLayers.Layer.NLS = OpenLayers.Class(OpenLayers.Layer.XYZ, {
		name: "NLS Maps API",
		attribution: 'Historical maps from <a href="http://geo.nls.uk/maps/api/" target="_blank">NLS Maps API<\/a>',
		getURL: NLSTileUrlOS,
		sphericalMercator: true,
		transitionEffect: 'resize',
		CLASS_NAME: "OpenLayers.Layer.NLS"
		});

		var map, layer;
		function init(){
			map = new OpenLayers.Map( 'map');
			layer = new OpenLayers.Layer.NLS( "Historical");
			map.addLayer(layer);

			var proj = new OpenLayers.Projection("EPSG:4326");
			map.setCenter( new OpenLayers.LonLat(-2.834473, 54.699234).transform(proj, map.getProjectionObject()), 5);
		}
		//]]>
		</script>
	</head>
	<body onload="init()">
		<h1>NLS Map + OpenLayers</h1>

		<p>
			<a href="http://www.nls.uk/">National Library of Scotland</a> &amp; <a href="http://www.klokantech.com/">Klokan Technologies GmbH</a>
		</p>
		<p>
			Historical maps from 1919-47 <a href="http://geo.nls.uk/maps/api/">NLS Maps API</a>
		</p>
		
		<div id="map" style="width: 600px; height: 400px; position: relative;">
			<a href="http://www.nls.uk/" target="_blank" id="nlslogo" style="-webkit-user-select:none; display:block;position:absolute;bottom:10px;left:2px;z-index:1000;" name="nlslogo"><img src="nls70-nq8.png" width="70" height="41" border="0" alt="National Library of Scotland" /></a> <a href="http://www.klokantech.com/" target="_blank" id="klokantechlogo" style="-webkit-user-select: none; display:block;position:absolute;bottom:2px;left:2px;z-index:1000;" name="klokantechlogo"><img src="klokantech70-nq8.png" width="70" height="11" border="0" alt="KlokanTech.com" /></a>
		</div>
	</body>
</html>
