<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml">
  <head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<title>NLS Overlay + Google Maps API v2</title>
	<style type="text/css">
	/*<![CDATA[*/
	v\:* {behavior:url(#default#VML);}
	html, body { font-family: 'Lucida Grande',Geneva,Arial,Verdana,sans-serif; }
	body { margin: 10px; background: #fff; }
	/*]]>*/
	</style>
	<script type="text/javascript" src="http://nls.tileserver.com/api.js"></script>
	<script src="http://maps.google.com/maps?file=api&amp;v=2&amp;sensor=false&amp;key=ABQIAAAA9pSslyaYyyl6x8HKrHAZvxS4-alJFZ9Cxp3qiYSlGHIYxF9uHhT0NLb9B9BXGUGGDctSO4QVa1jLLA" type="text/javascript"></script>
	<script src="http://nls.tileserver.com/opacity-control.js" type="text/javascript"></script>
	<script type="text/javascript">
	//<![CDATA[

	function initialize() {
	  if (GBrowserIsCompatible()) {

		var tilelayer = new GTileLayer(null, null, null);
		tilelayer.getTileUrl = NLSTileUrlOS;
		tilelayer.opacity = 0.8; // Default opacity value
		tilelayer.getOpacity = function() { return this.opacity; }

		var overlay = new GTileLayerOverlay( tilelayer );

		var map = new GMap2(document.getElementById("map"));
		map.setCenter(new GLatLng(55.96,-3.2), 12);
		map.setUIToDefault();
		map.addOverlay(overlay);
		map.addControl(new OpacityControl( overlay ));

		map.removeMapType(G_HYBRID_MAP);
		map.setMapType(G_SATELLITE_MAP);
		}
	}
	//]]>
	</script>
	</head>
	<body onload="initialize()" onunload="GUnload()">
		<h1>NLS Overlay + Google Maps API v2</h1>
		<p>
			<a href="http://www.nls.uk/">National Library of Scotland</a> &amp; <a href="http://www.klokantech.com/">Klokan Technologies GmbH</a>
		</p>
		<p>
			Historical maps from 1919-47 <a href="http://geo.nls.uk/maps/api/">NLS Maps API</a>
		</p>
		<div id="map" style="width: 600px; height: 400px"></div>
	</body>
</html>
